<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitPro V3 | Apple TV+</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* General styles and color scheme */
        :root {
            color-scheme: dark;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }
        .container {
            max-width: 100vw;
            min-height: 100vh;
            padding-bottom: 80px; /* Space for the fixed nav bar */
        }

        /* Gradient for hero text */
        .text-gradient {
            background-image: linear-gradient(to right, #ffffff, #aaaaaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Nav bar button styles with active state */
        .nav-button {
            transition: transform 0.2s ease-in-out;
        }
        .nav-button.active {
            transform: scale(1.1);
        }

        /* Card and content block styles */
        .card {
            background-color: #1a1a1a;
            transition: transform 0.2s;
        }
        .card:hover {
            transform: scale(1.03);
        }
        .hero-banner {
            background-color: #1a1a1a;
            background-image: linear-gradient(to bottom, #1a1a1a, #000000);
        }

        /* Horizontal scrolling container for sections */
        .scroll-container {
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-snap-type: x mandatory;
        }
        .scroll-container::-webkit-scrollbar {
            display: none;
        }
        .scroll-container > * {
            scroll-snap-align: start;
        }

        /* Specific card sizes for horizontal scrolling */
        .horizontal-card {
            width: 180px; /* fixed width for horizontal scroll */
            flex-shrink: 0;
            cursor: pointer;
            margin-right: 12px;
        }

        /* Message box for alerts */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #262626;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 100;
            max-width: 90%;
            text-align: center;
        }

        /* SVG icon styles from Phosphor Icons */
        .ph-icon {
            display: inline-block;
            vertical-align: middle;
            fill: currentColor;
        }
    </style>
</head>
<body class="bg-black text-white font-inter">

    <div id="app-container" class="container mx-auto px-4 py-8">
        <!-- The content will be rendered here by JavaScript -->
    </div>

    <!-- Fixed Bottom Navigation Bar -->
    <nav class="fixed bottom-0 left-0 right-0 bg-black bg-opacity-90 backdrop-blur-md p-4 flex justify-around items-center rounded-t-2xl shadow-lg">
        <button id="nav-home" data-nav-id="home" class="nav-button flex flex-col items-center text-xs text-gray-400 transition-colors duration-200 focus:outline-none">
            <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z"></path>
            </svg>
            Início
        </button>
        <button id="nav-activities" data-nav-id="activities" class="nav-button flex flex-col items-center text-xs text-gray-400 transition-colors duration-200 focus:outline-none">
            <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 24 24">
                <path d="M13 13.999l-3.23 3.743c-0.347 0.402-0.841 0.638-1.378 0.638h-4.392l0.002 0.001c-1.381 0-2.5-1.119-2.5-2.5 0-0.908 0.485-1.708 1.216-2.148l4.318-2.585-1.847-2.152c-0.346-0.403-0.841-0.638-1.378-0.638h-4.393l0.002 0.001c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5h16.037c1.381 0 2.5 1.119 2.5 2.5s-1.119 2.5-2.5 2.5h-4.392c-0.537 0-1.032-0.236-1.378 0.638l-1.847 2.152 4.318 2.585c0.731 0.44 1.216 1.24 1.216 2.148 0 1.381-1.119 2.5-2.5 2.5h-4.393c-0.537 0-1.032-0.236-1.378-0.638l-3.23-3.743z"></path>
            </svg>
            Atividades
        </button>
        <button id="nav-profile" data-nav-id="profile" class="nav-button flex flex-col items-center text-xs text-gray-400 transition-colors duration-200 focus:outline-none">
            <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.94 0 3.5 1.56 3.5 3.5S13.94 12 12 12s-3.5-1.56-3.5-3.5S10.06 5 12 5zm0 14.1c-2.73 0-5.2-1.72-7.14-4.59C6.48 12.59 9.3 11 12 11s5.52 1.59 7.14 3.51c-1.94 2.87-4.41 4.59-7.14 4.59z"></path>
            </svg>
            Perfil
        </button>
    </nav>

    <script>
        // App state variables
        let activeTab = 'home';
        let currentProgram;

        // --- Data Mock-up to support the new layout ---
        const progressMetrics = [
            { id: 'timer', label: 'Cronômetro', value: 'ativar', icon: `<svg class="ph-icon w-6 h-6" viewBox="0 0 256 256"><path d="M128 24a104 104 0 1 0 104 104A104.117 104.117 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88A88.099 88.099 0 0 1 128 216ZM176 128a8 8 0 0 1-8 8h-36a8 8 0 0 1-8-8V80a8 8 0 0 1 16 0v40h28a8 8 0 0 1 8 8Z"></path></svg>` },
            { id: 'heart', label: 'Batimentos', value: '0', unit: 'bpm', icon: `<svg class="ph-icon w-6 h-6" viewBox="0 0 256 256"><path d="M224 96a64 64 0 0 1-128 0v-40a8 8 0 0 0-16 0v40a64 64 0 0 1-128 0v-40a8 8 0 0 0-16 0v40a80 80 0 0 0 160 0V56a8 8 0 0 0-16 0v40a64 64 0 0 1 128 0v40a8 8 0 0 0 16 0v-40a80 80 0 0 0-160 0v40Z"></path></svg>` },
            { id: 'steps', label: 'Passos', value: '0', icon: `<svg class="ph-icon w-6 h-6" viewBox="0 0 256 256"><path d="M120 176a4 4 0 0 1-4 4H72a4 4 0 0 1-4-4V80a4 4 0 0 1 4-4h44a4 4 0 0 1 4 4v96Zm76-88h-48a4 4 0 0 0-4 4v96a4 4 0 0 0 4 4h48a4 4 0 0 0 4-4V88a4 4 0 0 0-4-4Zm0 100a4 4 0 0 1-4 4h-48a4 4 0 0 1-4-4V88a4 4 0 0 1 4-4h48a4 4 0 0 1 4 4v96Z"></path></svg>` },
            { id: 'calories', label: 'Calorias', value: '0', unit: 'kcal', icon: `<svg class="ph-icon w-6 h-6" viewBox="0 0 256 256"><path d="M128 24a104 104 0 1 0 104 104A104.117 104.117 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88A88.099 88.099 0 0 1 128 216ZM128 128a8 8 0 0 1-8-8v-40a8 8 0 0 1 16 0v40a8 8 0 0 1-8 8Z"></path></svg>` },
            { id: 'distance', label: 'Distância', value: '0', unit: 'km', icon: `<svg class="ph-icon w-6 h-6" viewBox="0 0 256 256"><path d="M224 128a96 96 0 1 0-96 96 96.108 96.108 0 0 0 96-96Zm-96 80a80 80 0 1 1 80-80A80.091 80.091 0 0 1 128 208Zm-32-48a8 8 0 0 1-8-8v-40a8 8 0 0 1 16 0v40a8 8 0 0 1-8 8Z"></path></svg>` }
        ];

        const categories = [
            { id: 'forca', name: 'Força', description: 'Treinos de peso', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Força` },
            { id: 'cardio', name: 'Cardio', description: 'Treinos de resistência', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Cardio` },
            { id: 'yoga', name: 'Yoga', description: 'Posturas e flexibilidade', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Yoga` },
            { id: 'corrida', name: 'Corrida', description: 'Treinos de corrida', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Corrida` },
            { id: 'natacao', name: 'Natação', description: 'Explore', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Natação` },
            { id: 'futebol', name: 'Futebol', description: 'Exercícios com a bola', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Futebol` },
            { id: 'boxe', name: 'Boxe', description: 'Treino de impacto', image: `https://placehold.co/400x250/1a1a1a/cccccc?text=Boxe` },
        ];
        
        const popularPrograms = [
            { id: 'cardio-rapido', name: 'Treino Rápido de Cardio', coach: 'Coach Ana', image: 'https://placehold.co/400x250/333333/dddddd?text=Cardio' },
            { id: 'yoga-iniciantes', name: 'Yoga para Iniciantes', coach: 'Instrutor Leo', image: 'https://placehold.co/400x250/444444/dddddd?text=Yoga' },
            { id: 'forca-corpo-inteiro', name: 'Força de Corpo Inteiro', coach: 'Treinador Marcos', image: 'https://placehold.co/400x250/555555/dddddd?text=Força' },
            { id: 'corrida-5k', name: 'Corrida de 5km', coach: 'Treinador Leo', image: 'https://placehold.co/400x250/666666/dddddd?text=5K' },
            { id: 'hit-avancado', name: 'HIIT Avançado', coach: 'Coach Ana', image: 'https://placehold.co/400x250/777777/dddddd?text=HIIT' },
            { id: 'pilates-core', name: 'Pilates para o Core', coach: 'Instrutor Leo', image: 'https://placehold.co/400x250/888888/dddddd?text=Pilates' },
        ];
        
        // --- Core UI & Navigation Logic ---
        const appContainer = document.getElementById('app-container');
        const navButtons = document.querySelectorAll('[data-nav-id]');

        function showMessage(message) {
            const messageBox = document.createElement('div');
            messageBox.className = 'message-box bg-gray-800 text-white p-4 rounded-lg shadow-xl';
            messageBox.innerHTML = `
                <p>${message}</p>
                <button class="mt-4 px-4 py-2 bg-blue-600 rounded-lg text-sm" onclick="this.parentNode.remove()">OK</button>
            `;
            document.body.appendChild(messageBox);
        }

        function navigateTo(pageId, data = null) {
            appContainer.innerHTML = '';
            // Clear any old listeners
            navButtons.forEach(btn => btn.classList.remove('active', 'text-white'));
            
            let navBtn = document.querySelector(`[data-nav-id="${pageId}"]`);
            if (navBtn) {
                navBtn.classList.add('active', 'text-white');
            } else if (pageId === 'category-page' || pageId === 'program-details') {
                navBtn = document.querySelector(`[data-nav-id="${activeTab}"]`);
                if (navBtn) navBtn.classList.add('active', 'text-white');
            }

            activeTab = pageId;

            switch (pageId) {
                case 'home':
                    renderHomePage();
                    break;
                case 'activities':
                    renderActivitiesPage();
                    break;
                case 'profile':
                    renderProfilePage();
                    break;
                case 'category-page':
                    renderCategoryPage(data);
                    break;
                case 'program-details':
                    renderProgramDetails(data);
                    break;
                default:
                    renderHomePage();
            }
        }
        
        // --- Page Render Functions ---
        function renderHomePage() {
            appContainer.innerHTML = `
                <div class="space-y-8">
                    <!-- Your Progress Section -->
                    <section>
                        <h2 class="text-xl font-bold mb-4">Seu Progresso de Hoje</h2>
                        <div class="flex flex-row overflow-x-auto scroll-container gap-4 pb-4">
                            ${progressMetrics.map(metric => `
                                <div class="horizontal-card card rounded-2xl p-4 text-center border border-gray-800 flex flex-col justify-center items-center">
                                    <span class="text-2xl mb-2">${metric.icon}</span>
                                    <p class="text-sm font-semibold">${metric.value} ${metric.unit || ''}</p>
                                    <p class="text-xs text-gray-400">${metric.label}</p>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                    
                    <!-- Smart Workout Generator Hero Banner -->
                    <section class="hero-banner p-6 rounded-3xl text-center space-y-4 shadow-xl">
                        <h1 class="text-3xl font-bold text-gradient">Gerador de Treino Inteligente</h1>
                        <p class="text-gray-400 text-sm">Crie seu treino ideal em segundos.</p>
                        <button id="generate-workout-btn" class="w-full px-6 py-3 bg-blue-600 rounded-lg font-semibold shadow-md hover:bg-blue-700 transition-colors">
                            Gerar Treino
                        </button>
                    </section>

                    <!-- Featured Workouts Section (Categories) -->
                    <section>
                        <h2 class="text-xl font-bold mb-4">Treinos em Destaque</h2>
                        <div class="flex flex-row overflow-x-auto scroll-container gap-4 pb-4">
                            ${categories.map(cat => `
                                <div data-category-id="${cat.id}" class="horizontal-card rounded-2xl p-4 cursor-pointer shadow-md border border-gray-800">
                                    <img src="${cat.image}" alt="${cat.name}" class="rounded-xl w-full h-24 object-cover mb-2">
                                    <h3 class="font-semibold text-sm">${cat.name}</h3>
                                    <p class="text-gray-400 text-xs">${cat.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    </section>

                    <!-- Popular Programs Section -->
                    <section>
                        <h2 class="text-xl font-bold mb-4">Programas Populares</h2>
                        <div class="flex flex-row overflow-x-auto scroll-container gap-4 pb-4">
                            ${popularPrograms.map(prog => `
                                <div data-program-id="${prog.id}" class="horizontal-card rounded-2xl p-4 cursor-pointer shadow-md border border-gray-800">
                                    <img src="${prog.image}" alt="${prog.name}" class="rounded-xl w-full h-24 object-cover mb-2">
                                    <h3 class="font-semibold text-sm">${prog.name}</h3>
                                    <p class="text-gray-400 text-xs">${prog.coach}</p>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                </div>
            `;
            setupEventListeners();
        }
        
        function renderActivitiesPage() {
            appContainer.innerHTML = `
                <h1 class="text-2xl font-bold mb-6">Atividades</h1>
                <p class="text-gray-400 mb-6">Descubra novas formas de se exercitar e divirta-se!</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Example cards, you can expand this section -->
                    ${categories.map(cat => `
                         <div data-category-id="${cat.id}" class="card rounded-2xl p-6 text-center cursor-pointer shadow-md border border-gray-800">
                             <h3 class="text-lg font-semibold">${cat.name}</h3>
                         </div>
                    `).join('')}
                </div>
            `;
            setupEventListeners();
        }
        
        function renderProfilePage() {
            appContainer.innerHTML = `
                <h1 class="text-2xl font-bold mb-6">Perfil</h1>
                <div class="flex flex-col items-center">
                    <div class="w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center text-4xl font-bold mb-4">
                        A
                    </div>
                    <h2 class="text-xl font-bold">Usuário Anônimo</h2>
                    <div class="bg-gray-800 p-6 rounded-2xl w-full max-w-md space-y-4 mt-6">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Total de Treinos:</span>
                            <span class="font-semibold">25</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Tempo Total:</span>
                            <span class="font-semibold">1200 min</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Treino Favorito:</span>
                            <span class="font-semibold">Treino de Força 5</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function renderCategoryPage(categoryId) {
            const category = categories.find(cat => cat.id === categoryId);
            const programs = popularPrograms.filter(p => p.id.includes(categoryId)); // Simple filter for demo
            
            appContainer.innerHTML = `
                <h1 class="text-2xl font-bold mb-6">${category ? category.name : 'Categoria'}</h1>
                <button id="back-btn" class="text-blue-500 mb-4 flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path>
                    </svg>
                    Voltar
                </button>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    ${programs.map(prog => `
                        <div data-program-id="${prog.id}" class="card rounded-2xl p-4 cursor-pointer shadow-md border border-gray-800">
                            <img src="${prog.image}" alt="${prog.name}" class="rounded-xl w-full h-36 object-cover mb-3">
                            <h3 class="font-semibold">${prog.name}</h3>
                            <p class="text-gray-400 text-sm">${prog.coach}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('back-btn').addEventListener('click', () => navigateTo('home'));
            setupEventListeners();
        }

        function renderProgramDetails(programId) {
            const program = popularPrograms.find(p => p.id === programId);
            currentProgram = program;

            if (!program) {
                appContainer.innerHTML = '<p class="text-red-500 text-center">Treino não encontrado.</p>';
                return;
            }

            appContainer.innerHTML = `
                <button id="back-btn" class="text-blue-500 mb-4 flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path>
                    </svg>
                    Voltar
                </button>
                <div class="card rounded-2xl p-6 shadow-md border border-gray-800 space-y-4">
                    <img src="${program.image}" alt="${program.name}" class="rounded-xl w-full h-48 object-cover">
                    <h1 class="text-2xl font-bold">${program.name}</h1>
                    <p class="text-gray-400">Um programa de treino completo com ${program.coach}.</p>
                    <div class="flex justify-between text-sm text-gray-400">
                        <span>Coach: <span class="text-white">${program.coach}</span></span>
                        <span>Duração: <span class="text-white">30 min</span></span>
                        <span>Dificuldade: <span class="text-white">Médio</span></span>
                    </div>
                    <div id="workout-content" class="text-gray-400 space-y-2 mt-4">
                        <p>Conteúdo do treino...</p>
                        <p>Exercício 1: Flexões (3x10)</p>
                        <p>Exercício 2: Agachamentos (3x15)</p>
                        <p>Exercício 3: Prancha (60s)</p>
                    </div>
                    <button id="start-workout-btn" class="w-full mt-6 px-6 py-3 bg-blue-600 rounded-lg font-semibold shadow-md hover:bg-blue-700 transition-colors">
                        Começar Treino
                    </button>
                </div>
            `;
            document.getElementById('back-btn').addEventListener('click', () => navigateTo('home'));
            
            document.getElementById('start-workout-btn').addEventListener('click', () => {
                showMessage(`Você começou o treino de "${program.name}".`);
            });
        }

        // --- Event Listeners and App Initialization ---
        function setupEventListeners() {
            // Add listeners for navigation buttons
            navButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const navId = e.currentTarget.dataset.navId;
                    navigateTo(navId);
                });
            });

            // Add listeners for category cards
            const categoryCards = document.querySelectorAll('[data-category-id]');
            categoryCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    const categoryId = e.currentTarget.dataset.categoryId;
                    navigateTo('category-page', categoryId);
                });
            });

            // Add listeners for program cards
            const programCards = document.querySelectorAll('[data-program-id]');
            programCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    const programId = e.currentTarget.dataset.programId;
                    navigateTo('program-details', programId);
                });
            });

            // Add listener for the workout generator button
            const generateWorkoutBtn = document.getElementById('generate-workout-btn');
            if (generateWorkoutBtn) {
                generateWorkoutBtn.addEventListener('click', () => {
                    showMessage('O gerador de treinos é uma funcionalidade futura!');
                });
            }
        }
        
        // Start the application when the window loads
        window.onload = initializeApp;

        function initializeApp() {
            navigateTo('home');
            setupEventListeners();
        }
    </script>
</body>
</html>
